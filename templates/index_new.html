<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Semantic Search | E-commerce Intelligence</title>
  <meta name="description" content="Discover products faster with AI-powered semantic search across all categories. Smart filtering, natural language queries, and personalized results." />

  <!-- Google Fonts: Inter for clean, modern typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CSS v3 with custom configuration -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'primary': '#0ea5e9', // Sky-500 - Clean blue
            'primary-dark': '#0284c7', // Sky-600
            'accent': '#06b6d4', // Cyan-500 - Teal accent
            'accent-dark': '#0891b2', // Cyan-600
            'success': '#10b981', // Emerald-500
            'warning': '#f59e0b', // Amber-500
            'error': '#ef4444', // Red-500
            'surface': '#f8fafc', // Slate-50
            'surface-dark': '#0f172a', // Slate-900
            'card': '#ffffff',
            'card-dark': '#1e293b', // Slate-800
          },
          boxShadow: {
            'soft': '0 2px 16px -4px rgba(0,0,0,0.08)',
            'medium': '0 4px 24px -8px rgba(0,0,0,0.12)',
            'strong': '0 8px 32px -12px rgba(0,0,0,0.16)',
            'glow': '0 0 40px -12px rgba(14, 165, 233, 0.3)'
          },
          borderRadius: {
            'xl': '1rem',
            '2xl': '1.25rem',
            '3xl': '1.5rem',
            '4xl': '2rem'
          },
          fontSize: {
            'xs': ['0.75rem', { lineHeight: '1.5' }],
            'sm': ['0.875rem', { lineHeight: '1.6' }],
            'base': ['1rem', { lineHeight: '1.6' }],
            'lg': ['1.125rem', { lineHeight: '1.6' }],
            'xl': ['1.25rem', { lineHeight: '1.5' }],
            '2xl': ['1.5rem', { lineHeight: '1.4' }],
            '3xl': ['1.875rem', { lineHeight: '1.3' }],
            '4xl': ['2.25rem', { lineHeight: '1.2' }],
          }
        },
        fontFamily: {
          sans: ["Inter", "ui-sans-serif", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Helvetica", "Arial", "sans-serif"]
        }
      }
    }
  </script>

  <!-- Font Awesome (icons) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    /* Global typography and layout */
    html, body { 
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    }
    h1, h2, h3, h4, h5, h6 { font-weight: 600; letter-spacing: -0.025em; }
    
    /* Custom gradient backgrounds */
    .gradient-bg {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
    }
    .gradient-surface {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    }

    /* Enhanced shimmer effect */
    .skeleton {
      position: relative;
      overflow: hidden;
      background: linear-gradient(90deg, 
        rgba(203, 213, 225, 0.3) 25%, 
        rgba(226, 232, 240, 0.5) 37%, 
        rgba(203, 213, 225, 0.3) 63%);
      background-size: 400% 100%;
      animation: skeleton-loading 1.6s ease-in-out infinite;
    }
    .dark .skeleton {
      background: linear-gradient(90deg, 
        rgba(51, 65, 85, 0.6) 25%, 
        rgba(71, 85, 105, 0.8) 37%, 
        rgba(51, 65, 85, 0.6) 63%);
      background-size: 400% 100%;
    }
    @keyframes skeleton-loading {
      0% { background-position: 100% 50%; }
      100% { background-position: 0 50%; }
    }

    /* Smooth animations */
    @keyframes fade-in { 
      from { opacity: 0; } 
      to { opacity: 1; } 
    }
    @keyframes slide-up { 
      from { opacity: 0; transform: translateY(16px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
    @keyframes float { 
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-4px); }
    }
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px -8px rgba(14, 165, 233, 0.4); }
      50% { box-shadow: 0 0 30px -8px rgba(14, 165, 233, 0.6); }
    }

    .animate-fade-in { animation: fade-in 0.5s ease-out both; }
    .animate-slide-up { animation: slide-up 0.4s ease-out both; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(148, 163, 184, 0.4); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(148, 163, 184, 0.6); }
    .dark ::-webkit-scrollbar-thumb { background: rgba(100, 116, 139, 0.4); }
    .dark ::-webkit-scrollbar-thumb:hover { background: rgba(100, 116, 139, 0.6); }

    /* Search suggestions hover effect */
    .suggestion-card {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    .suggestion-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 32px -12px rgba(0,0,0,0.16);
    }

    /* Glassmorphism effect for search bar */
    .glass-effect {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }
    .dark .glass-effect {
      background: rgba(30, 41, 59, 0.9);
    }
  </style>
</head>

<body class="font-sans bg-surface dark:bg-surface-dark text-slate-900 dark:text-slate-100 transition-all duration-300">
  
  <!-- Minimal Top Navigation -->
  <nav class="sticky top-0 z-50 glass-effect border-b border-slate-200/50 dark:border-slate-700/50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Brand Logo (Abstract/Neutral) -->
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white animate-float">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <span class="hidden sm:block text-lg font-semibold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">
            AI Search
          </span>
        </div>

        <!-- Settings & Mode Toggle -->
        <div class="flex items-center gap-4">
          <!-- Search Mode Toggle -->
          <div class="hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-xl bg-slate-100 dark:bg-slate-800 text-sm">
            <select id="searchMode" class="bg-transparent border-none outline-none text-slate-700 dark:text-slate-300 font-medium cursor-pointer">
              <option value="text">Keyword</option>
              <option value="vector">Semantic</option>
              <option value="hybrid" selected>Hybrid</option>
            </select>
          </div>

          <!-- Reranking Toggle -->
          <div class="hidden sm:flex items-center gap-2">
            <label class="relative inline-flex items-center cursor-pointer">
              <input id="useReranking" type="checkbox" class="sr-only peer" checked>
              <div class="relative w-11 h-6 bg-slate-300 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-primary"></div>
              <span class="ml-2 text-sm font-medium text-slate-700 dark:text-slate-300">AI Rerank</span>
            </label>
          </div>

          <!-- Dark Mode Toggle -->
          <button id="darkModeToggle" class="p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 transition-colors" aria-label="Toggle theme">
            <svg class="w-5 h-5 dark:hidden" fill="currentColor" viewBox="0 0 20 20">
              <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
            </svg>
            <svg class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="min-h-screen gradient-bg dark:gradient-bg">
    
    <!-- Hero Section with Centered Search -->
    <section class="relative">
      <!-- Background decoration -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-32 w-96 h-96 bg-primary/5 rounded-full blur-3xl"></div>
        <div class="absolute -bottom-40 -left-32 w-96 h-96 bg-accent/5 rounded-full blur-3xl"></div>
      </div>

      <div class="relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 sm:pt-24 pb-12 text-center">
        
        <!-- Main Heading -->
        <div class="animate-slide-up">
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 dark:from-slate-100 dark:via-slate-300 dark:to-slate-100 bg-clip-text text-transparent">
            Discover Products with
            <span class="bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">AI Intelligence</span>
          </h1>
          
          <p class="text-xl sm:text-2xl text-slate-600 dark:text-slate-400 mb-12 max-w-3xl mx-auto leading-relaxed">
            Search naturally across all categories — electronics, fashion, home, beauty, and more.
          </p>
        </div>

        <!-- Central Search Bar -->
        <div class="animate-slide-up" style="animation-delay: 0.1s;">
          <form class="max-w-4xl mx-auto mb-12" role="search" onsubmit="event.preventDefault(); doSearch();">
            <div class="relative group">
              <!-- Search Icon -->
              <div class="absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none z-10">
                <svg class="w-6 h-6 text-slate-400 group-focus-within:text-primary transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
              </div>

              <!-- Main Search Input -->
              <input 
                id="searchInput" 
                name="q" 
                type="text" 
                inputmode="search" 
                autocomplete="off" 
                placeholder="Search anything — 'red Nike shoes', 'Samsung TV under ₹40,000', 'eco-friendly toys for toddler'..."
                class="w-full pl-16 pr-20 py-6 text-lg rounded-3xl border-2 border-slate-200 dark:border-slate-700 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/20 transition-all duration-200 shadow-soft hover:shadow-medium group-focus-within:shadow-glow"
              />

              <!-- Voice Search Button -->
              <button type="button" class="absolute right-20 top-1/2 -translate-y-1/2 p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:text-primary hover:bg-primary/10 transition-all duration-200" aria-label="Voice search">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z" clip-rule="evenodd"></path>
                </svg>
              </button>

              <!-- Search Button -->
              <button 
                id="searchBtn" 
                type="submit" 
                class="absolute right-2 top-2 bottom-2 px-6 sm:px-8 bg-gradient-to-r from-primary to-primary-dark text-white font-semibold rounded-2xl hover:shadow-medium focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all duration-200 flex items-center gap-2 animate-pulse-glow"
              >
                <span class="hidden sm:inline">Search</span>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </button>
            </div>
          </form>
        </div>

        <!-- Tagline -->
        <div class="animate-slide-up mb-16" style="animation-delay: 0.2s;">
          <p class="text-lg text-slate-600 dark:text-slate-400 font-medium">
            Powered by semantic AI • Across every category • Instantly intelligent
          </p>
        </div>
      </div>
    </section>

    <!-- Suggested Queries Section -->
    <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
      <div class="animate-slide-up" style="animation-delay: 0.3s;">
        <h2 class="text-2xl font-semibold text-center mb-8 text-slate-800 dark:text-slate-200">
          Try these searches
        </h2>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Shirt under ₹500')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center">
                <i class="fa-solid fa-shirt text-blue-600 dark:text-blue-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Shirt under ₹500</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Fashion • Budget</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Refurbished iPhone with warranty')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center">
                <i class="fa-solid fa-mobile-screen-button text-green-600 dark:text-green-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Refurbished iPhone</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Electronics • Warranty</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Gift for dad who loves cooking')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center">
                <i class="fa-solid fa-gift text-purple-600 dark:text-purple-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Gift for cooking dad</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Gifts • Kitchen</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Eco-friendly yoga mat')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center">
                <i class="fa-solid fa-leaf text-emerald-600 dark:text-emerald-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Eco-friendly yoga mat</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Fitness • Sustainable</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('4K TV under ₹40,000 with wall-mount')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-red-100 dark:bg-red-900/30 flex items-center justify-center">
                <i class="fa-solid fa-tv text-red-600 dark:text-red-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">4K TV bundle</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Electronics • Bundle</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Gaming chair for tall person')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center">
                <i class="fa-solid fa-chair text-indigo-600 dark:text-indigo-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Gaming chair tall</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Furniture • Gaming</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Wireless headphones under ₹2,000')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center">
                <i class="fa-solid fa-headphones text-yellow-600 dark:text-yellow-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Wireless headphones</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Audio • Budget</p>
              </div>
            </div>
          </div>

          <div class="suggestion-card p-4 rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft" onclick="quickSearch('Leather office bag for women')">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center">
                <i class="fa-solid fa-briefcase text-pink-600 dark:text-pink-400"></i>
              </div>
              <div>
                <p class="font-medium text-slate-900 dark:text-slate-100">Leather office bag</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">Fashion • Professional</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- API Documentation Section -->
    <section class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
      <div class="animate-slide-up" style="animation-delay: 0.4s;">
        <div class="bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 rounded-3xl p-8 shadow-soft">
          <div class="flex items-center justify-between flex-wrap gap-6">
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 01-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z" clip-rule="evenodd"></path>
                </svg>
              </div>
              <div>
                <h2 class="text-xl font-semibold text-slate-900 dark:text-slate-100">Developer API</h2>
                <p class="text-slate-600 dark:text-slate-400">Integrate semantic search into your applications</p>
              </div>
            </div>
            
            <div class="flex flex-wrap gap-3">
              <a 
                href="/docs" 
                target="_blank" 
                rel="noopener noreferrer" 
                class="inline-flex items-center gap-2 px-6 py-3 rounded-2xl bg-primary text-white font-medium hover:bg-primary-dark focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all duration-200 shadow-soft hover:shadow-medium"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>Interactive Docs</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
              </a>
              
              <a 
                href="/redoc" 
                target="_blank" 
                rel="noopener noreferrer" 
                class="inline-flex items-center gap-2 px-6 py-3 rounded-2xl bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-200 dark:hover:bg-slate-600 focus:outline-none focus:ring-4 focus:ring-slate-300/30 transition-all duration-200"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path>
                </svg>
                <span>ReDoc</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Results Section -->
    <section id="results" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16" aria-live="polite" aria-busy="false">
      <!-- Will be populated by search results -->
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm border-t border-slate-200/50 dark:border-slate-700/50 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <p class="text-slate-600 dark:text-slate-400">
        Built with FastAPI • Powered by AI • Designed for everyone
      </p>
    </div>
  </footer>

  <script>
    // Dark mode preference
    const htmlEl = document.documentElement;
    const savedTheme = localStorage.getItem('theme') || 'light';
    if (savedTheme === 'dark') htmlEl.classList.add('dark');

    document.getElementById('darkModeToggle').addEventListener('click', () => {
      htmlEl.classList.toggle('dark');
      localStorage.setItem('theme', htmlEl.classList.contains('dark') ? 'dark' : 'light');
    });

    // Quick search function
    function quickSearch(query) {
      document.getElementById('searchInput').value = query;
      doSearch();
    }

    // Helpers
    function setBusy(isBusy) {
      const results = document.getElementById('results');
      results.setAttribute('aria-busy', String(isBusy));
    }

    // Perform search
    function doSearch() {
      const query = document.getElementById('searchInput').value.trim();
      const resultsDiv = document.getElementById('results');
      const searchBtn = document.getElementById('searchBtn');
      const useReranking = document.getElementById('useReranking').checked;
      const searchMode = document.getElementById('searchMode').value; // text | vector | hybrid

      if (!query) { 
        showNotification('Please enter a search term', 'warning'); 
        return; 
      }

      // Button loading state
      searchBtn.disabled = true;
      searchBtn.innerHTML = '<svg class="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-2">Searching...</span>';

      // Show skeletons
      setBusy(true);
      resultsDiv.innerHTML = createSkeletonLoaders();

      const start = performance.now();

      fetch('/api/search/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ query, limit: 12, use_reranking: useReranking, mode: searchMode })
      })
      .then(r => r.json())
      .then(data => {
        // If API doesn't provide execution_time, compute locally
        if (!data.execution_time) {
          data.execution_time = (performance.now() - start) / 1000;
        }
        data.search_mode = searchMode;
        showResults(data);
      })
      .catch(err => {
        console.error(err);
        showError('Search failed. Please try again.');
      })
      .finally(() => {
        setBusy(false);
        searchBtn.disabled = false;
        searchBtn.innerHTML = '<span class="hidden sm:inline">Search</span><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>';
      });
    }

    // Skeleton loaders
    function createSkeletonLoaders() {
      const cards = Array.from({ length: 8 }).map(() => `
        <div class="bg-white/80 dark:bg-slate-800/80 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl overflow-hidden shadow-soft backdrop-blur-sm">
          <div class="p-3 bg-slate-50 dark:bg-slate-700">
            <div class="aspect-w-1 aspect-h-1 skeleton rounded-xl"></div>
          </div>
          <div class="p-4 space-y-3">
            <div class="skeleton h-4 w-3/4 rounded"></div>
            <div class="skeleton h-4 w-1/2 rounded"></div>
            <div class="flex items-center gap-2">
              <div class="skeleton h-3 w-24 rounded"></div>
              <div class="skeleton h-3 w-10 rounded"></div>
            </div>
            <div class="skeleton h-5 w-20 rounded"></div>
            <div class="skeleton h-9 w-full rounded-lg"></div>
          </div>
        </div>
      `).join('');

      return `
        <div class="mb-8 animate-slide-up text-center">
          <h2 class="text-2xl font-semibold mb-2 text-slate-800 dark:text-slate-200">Searching...</h2>
          <p class="text-slate-600 dark:text-slate-400">Finding the best matches for you</p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" role="status" aria-label="Loading search results">
          ${cards}
        </div>
      `;
    }

    // Render results
    function showResults(data) {
      const resultsDiv = document.getElementById('results');

      if (data.detail) { 
        showError('API Error: ' + data.detail); 
        return; 
      }
      if (!data.results || data.results.length === 0) { 
        showNoResults(); 
        return; 
      }

      const count = data.results.length;
      const modeBadge = data.search_mode === 'vector' ? 'Semantic' : (data.search_mode === 'text' ? 'Keyword' : 'Hybrid');
      
      const header = `
        <div class="mb-8 animate-slide-up text-center">
          <h2 class="text-3xl font-bold mb-2 text-slate-900 dark:text-slate-100">Found ${count} products</h2>
          <p class="text-slate-600 dark:text-slate-400">
            <span class="inline-flex items-center px-3 py-1 rounded-full bg-primary/10 text-primary font-medium mr-3">${modeBadge} mode</span>
            ${data.reranked ? '<span class="inline-flex items-center gap-1"><svg class="w-4 h-4 text-success" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> AI Reranked</span>' : 'Standard ranking'}
            ${data.execution_time ? ` • ${Number(data.execution_time).toFixed(2)}s` : ''}
          </p>
        </div>`;

      const gridOpen = '<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">';
      const gridClose = '</div>';
      const cards = data.results.map(createProductCard).join('');

      resultsDiv.innerHTML = header + gridOpen + cards + gridClose;

      // Staggered reveal
      resultsDiv.querySelectorAll('.product-card').forEach((card, i) => {
        card.style.animation = `slide-up 0.4s ease-out ${i * 50}ms both`;
      });
    }

    // Product card
    function createProductCard(product) {
      const rating = product.average_rating_numeric ? parseFloat(product.average_rating_numeric) : 0;
      const stars = generateStarRating(rating);
      const hasDiscount = product.discount && product.discount !== '0%' && product.discount !== '';
      const price = product.selling_price_numeric || 0;
      const mrp = hasDiscount ? Math.max(price, Math.floor(price * 1.25)) : null;

      const img = (product.images && product.images.length > 0) ? product.images[0] : '';
      const title = product.title || 'Untitled product';
      const brand = product.brand && product.brand !== 'Unknown' ? product.brand : '';

      return `
        <article class="product-card bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 rounded-2xl overflow-hidden shadow-soft hover:shadow-medium transition-all duration-300">
          <div class="relative p-3 bg-slate-50 dark:bg-slate-700">
            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-xl">
              ${img ? `<img src="${img}" alt="${escapeHtml(title)} image" class="object-contain w-full h-full transition-transform duration-300 hover:scale-105" onerror="this.closest('.aspect-w-1').innerHTML='<div class=\\'w-full h-full flex items-center justify-center\\'><svg class=\\'w-16 h-16 text-slate-400\\' fill=\\'currentColor\\' viewBox=\\'0 0 20 20\\'><path fill-rule=\\'evenodd\\' d=\\'M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\\' clip-rule=\\'evenodd\\'></path></svg></div>'">` : `<div class="w-full h-full flex items-center justify-center"><svg class="w-16 h-16 text-slate-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>`}
            </div>
            ${hasDiscount ? `<span class="absolute top-2 left-2 inline-flex items-center px-2 py-1 text-xs font-semibold rounded-lg bg-error text-white">${product.discount}</span>` : ''}
            ${product.relevance_score !== undefined ? `<span class="absolute top-2 right-2 inline-flex items-center px-2 py-1 text-xs font-semibold rounded-lg bg-primary text-white">${(product.relevance_score * 100).toFixed(0)}%</span>` : ''}
          </div>

          <div class="p-4 space-y-3">
            <h3 class="text-base font-semibold leading-snug line-clamp-2 text-slate-900 dark:text-slate-100">${escapeHtml(title)}</h3>

            ${rating > 0 ? `
              <div class="flex items-center gap-2" aria-label="Rating: ${rating.toFixed(1)} out of 5">
                <div class="flex text-yellow-400 text-sm">
                  ${stars}
                </div>
                <span class="text-sm font-medium text-slate-600 dark:text-slate-400">${rating.toFixed(1)}</span>
              </div>` : ''}

            <div class="flex items-baseline gap-2">
              <span class="text-xl font-bold text-slate-900 dark:text-slate-100">₹${Number(price).toLocaleString()}</span>
              ${mrp ? `<span class="text-sm text-slate-500 dark:text-slate-400 line-through">₹${Number(mrp).toLocaleString()}</span>` : ''}
            </div>

            ${brand ? `<p class="text-sm text-slate-600 dark:text-slate-400 font-medium">${escapeHtml(brand)}</p>` : ''}

            <div class="pt-2">
              ${product.url ? `
                <a href="${product.url}" target="_blank" rel="noopener noreferrer" class="w-full inline-flex items-center justify-center gap-2 text-sm font-semibold bg-primary hover:bg-primary-dark text-white py-3 rounded-xl focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all duration-200">
                  <span>View Product</span>
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                  </svg>
                </a>` : `
                <div class="w-full inline-flex items-center justify-center text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 py-3 rounded-xl cursor-not-allowed">Not available</div>`}
            </div>
          </div>
        </article>
      `;
    }

    function generateStarRating(rating) {
      let stars = '';
      const full = Math.floor(rating);
      const half = rating % 1 >= 0.5;
      for (let i = 0; i < full; i++) stars += '<i class="fa-solid fa-star" aria-hidden="true"></i>';
      if (half) stars += '<i class="fa-solid fa-star-half-stroke" aria-hidden="true"></i>';
      const empty = 5 - full - (half ? 1 : 0);
      for (let i = 0; i < empty; i++) stars += '<i class="fa-regular fa-star" aria-hidden="true"></i>';
      return stars;
    }

    // Utilities
    function escapeHtml(str) {
      return String(str).replace(/[&<>"]+/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[s]));
    }

    function showError(message) {
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = `
        <div class="bg-error/10 border border-error/20 rounded-3xl p-12 text-center animate-slide-up max-w-2xl mx-auto">
          <div class="w-16 h-16 bg-error/20 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-error" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-xl font-semibold text-error mb-2">Search Error</h3>
          <p class="text-slate-600 dark:text-slate-400">${escapeHtml(message)}</p>
        </div>`;
    }

    function showNoResults() {
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = `
        <div class="bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 rounded-3xl p-12 text-center animate-slide-up max-w-2xl mx-auto">
          <div class="w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2">No products found</h3>
          <p class="text-slate-600 dark:text-slate-400 mb-6">Try different keywords, include a brand or price range.</p>
          <button type="button" class="px-6 py-3 rounded-xl bg-primary text-white font-medium hover:bg-primary-dark focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all duration-200" onclick="document.getElementById('searchInput').focus()">Try another search</button>
        </div>`;
    }

    function showNotification(message, type = 'info') {
      const palette = { 
        info: 'bg-primary', 
        success: 'bg-success', 
        warning: 'bg-warning', 
        error: 'bg-error' 
      };
      const toast = document.createElement('div');
      toast.className = `fixed top-24 right-4 ${palette[type] || palette.info} text-white px-6 py-3 rounded-2xl shadow-medium z-50 animate-slide-up`;
      toast.role = 'status';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }

    // Keyboard shortcuts and initial focus
    document.addEventListener('DOMContentLoaded', () => {
      const input = document.getElementById('searchInput');
      input.focus();
      
      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        if (e.key === '/' && e.target !== input) {
          e.preventDefault();
          input.focus();
        }
        if (e.key === 'Enter' && e.target === input) {
          e.preventDefault();
          doSearch();
        }
      });
    });
  </script>
</body>
</html>
